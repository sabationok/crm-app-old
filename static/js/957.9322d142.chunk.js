"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[957],{650:function(e,t,l){l.d(t,{Z:function(){return d}});l(791);var a=l(401),i="Block_block__l4rYQ",c="Block_overflow__I1+3b",n="Block_header__+s9B0",s="Block_content__VVaX5",o="Block_footer__0j8tQ",r=l(184),d=function(e){var t=e.id,l=(0,a.q)().selectedItemId;return console.log("small block render"),(0,r.jsxs)("div",{className:i,children:[(0,r.jsx)("div",{className:n,children:l}),(0,r.jsx)("div",{className:s,children:(0,r.jsx)("div",{className:c,id:t,children:l})}),(0,r.jsx)("div",{className:o})]})}},837:function(e,t,l){l.d(t,{Z:function(){return L}});var a=l(791),i=l(413),c=l(885),n=l(434);function s(e){var t=e.searchParam,l=void 0===t?"":t,a=e.searchQuery,i=void 0===a?null:a,c=e.data;return(void 0===c?[]:c).filter((function(e){return"number"===typeof e[l]?!(i&&!e[l].toString().toLowerCase().includes(i.toLowerCase())):"string"!==typeof e[l]||!(i&&!e[l].toLowerCase().includes(i.toLowerCase()))}))}var o={filterContainer:"BlockListFilter_filterContainer__kgn9f",filterForm:"BlockListFilter_filterForm__37zwx",customFounder:"BlockListFilter_customFounder__YQfQi",inputFounder:"BlockListFilter_inputFounder__873WC",customSelect:"BlockListFilter_customSelect__0x25U",inputParam:"BlockListFilter_inputParam__fabYE",selectList:"BlockListFilter_selectList__QVKga",selectShown:"BlockListFilter_selectShown__14cqZ",selectHidden:"BlockListFilter_selectHidden__4pRfs",selectItem:"BlockListFilter_selectItem__tp3t8",button:"BlockListFilter_button__xPxuC",notification:"BlockListFilter_notification__-8imQ"},r=l(184),d=function(e){var t=e.blockFilterParams,l=t.tableTitles,d=void 0===l?[]:l,u=t.searchQueryAction,_=t.searchParamAction,m=(0,a.useState)(""),f=(0,c.Z)(m,2),b=f[0],h=f[1],v=(0,a.useState)({name:""}),x=(0,c.Z)(v,2),k=x[0],T=x[1],j=(0,a.useState)(!1),p=(0,c.Z)(j,2),B=p[0],y=p[1],w=(0,a.useState)([]),C=(0,c.Z)(w,2),g=C[0],N=C[1],F=(0,n.I0)(),L=[o.selectList,B?o.selectShown:o.selectHidden].join(" ");return(0,a.useEffect)((function(){N(s({searchParam:"name",searchQuery:k.name,data:d.filter((function(e){return(null===e||void 0===e?void 0:e.filter)&&(null===e||void 0===e?void 0:e.visible)}))}))}),[k,d]),(0,a.useEffect)((function(){""===b&&F(u(""))}),[F,b,u]),(0,a.useEffect)((function(){""===k.name&&F(_(""))}),[F,k,_]),(0,r.jsx)("div",{className:o.filterContainer,children:(0,r.jsxs)("form",{className:o.filterForm,onSubmit:function(e){!function(e){e.preventDefault(),F(u(b.trim())),F(_(k))}(e)},children:[(0,r.jsx)("div",{className:o.customFounder,children:(0,r.jsx)("input",{className:o.inputFounder,type:"text",name:"searchQuery",value:b,placeholder:"\u041f\u043e\u0448\u0443\u043a",onChange:function(e){!function(e){var t=e.target;h(t.value)}(e)}})}),(0,r.jsxs)("div",{className:o.customSelect,children:[(0,r.jsx)("input",{className:o.inputParam,type:"text",placeholder:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440",value:k.name,onClick:function(e){y(!B)},onChange:function(e){var t=e.target;T((0,i.Z)((0,i.Z)({},k),{},{name:t.value}))}}),(0,r.jsx)("ul",{className:L,children:g.map((function(e){return(0,r.jsx)("li",{className:o.selectItem,"data-title":e.dataTitle,onClick:function(t){!function(e){e.evt;var t=e.item;T(t),y(!1)}({evt:t,item:e})},children:e.name},e.id)}))})]}),(0,r.jsx)("button",{className:o.button,type:"submit",children:"\u0428\u0443\u043a\u0430\u0442\u0438"})]})})},u=l(16),_=l.n(u),m=l(351),f={thead:"TableHead_thead__NUfEf",row:"TableHead_row__9y9Z+",col:"TableHead_col__LkSmA"},b=function(e){var t=e.titles,l=e.setSelectedAll,a=e.selectedAll;return(0,r.jsx)("thead",{className:f.thead,children:(0,r.jsxs)("tr",{className:f.row,children:[(0,r.jsx)("th",{className:f.col,children:(0,r.jsx)("input",{className:f.checkbox,type:"checkbox",onChange:function(){l(!a)}})}),t.map((function(e,t){var l=e.id,a=e.name,i=e.dataTitle;return(0,r.jsx)("th",{className:[f.col,f["td_col".concat(t+=1)]].join(" "),"data-title":i,children:"".concat(t+=1," ").concat(a)},l)}))]})})},h=l(265),v={row:"TableBodyRow_row__F5TBR",col:"TableBodyRow_col__x0fwB",selectedRow:"TableBodyRow_selectedRow__xEMMP",selectedCol:"TableBodyRow_selectedCol__d9R8w"},x={col:"TableBodyCol_col__zBMxT",text:"TableBodyCol_text__kRUEm",hint:"TableBodyCol_hint__GKJp+",hintLink:"TableBodyCol_hintLink__3LxQ1"},k=function(e){e.dataTitle,e.text;var t=e.i,l=e.data,a=void 0===l?"---":l;return(0,r.jsx)("td",{className:[x.col,x["tdCol_".concat(t+=1)]].join(" "),children:(0,r.jsx)("span",{className:x.text,children:a})})},T=function(e){var t=e.postData,l=e.onTableRowClick,i=e.selectedAll,n=e.titles,s=(0,a.useState)(!1),o=(0,c.Z)(s,2),d=o[0],u=o[1],_=(0,a.useRef)(t.id);return(0,a.useEffect)((function(){u(!!i)}),[i]),(0,r.jsxs)("tr",{className:v.row,onClick:function(e){var t={ev:e,target:e.target,currentTarget:e.currentTarget,itemId:_.current};l(t)},children:[(0,r.jsx)("td",{className:[v.col,v.td_col_checkbox].join(" "),children:(0,r.jsx)("input",{type:"checkbox",checked:d,onChange:function(e){u(!d)}})}),n.map((function(e){return(0,r.jsx)(k,{data:t[e.dataTitle],dataTitle:e.dataTitle},e.id)}))]})},j={td_col_checkbox:"TableBody_td_col_checkbox__TQ8kg",selectedRow:"TableBody_selectedRow__R7B5U",selectedCol:"TableBody_selectedCol__DB0TO"},p=function(e){var t=e.tableData,l=e.titles,i=e.selectedAll,s=(0,a.useState)(),o=(0,c.Z)(s,2),d=o[0],u=o[1],_=(0,a.useState)(),m=(0,c.Z)(_,2),f=m[0],b=m[1],v=(0,a.useState)(),x=(0,c.Z)(v,2),k=x[0],p=x[1],B=(0,a.useState)(),y=(0,c.Z)(B,2),w=y[0],C=y[1],g=(0,n.I0)();return(0,a.useEffect)((function(){b(w),w!==f&&w!==f&&(null===f||void 0===f||f.classList.remove(j.selectedCol))}),[f,w]),(0,a.useEffect)((function(){u(k),k!==d&&k!==d&&(null===d||void 0===d||d.classList.remove(j.selectedRow))}),[d,k]),(0,r.jsx)("tbody",{className:j.tbody,children:t.map((function(e){return(0,r.jsx)(T,{postData:e,titles:l,selectedAll:i,onTableRowClick:function(e){!function(e){e.ev;var t=e.target,l=e.currentTarget,a=e.itemId;p(l),C(t),g((0,h.lT)(a)),l.classList.add(j.selectedRow),t.classList.add(j.selectedCol)}(e)}},e.id)}))})},B={table:"BlockTable_table__klM6Z"},y=function(e){e.titlesArr;var t=e.tableParams,l=t.tableTitles,i=t.tableData,o=(0,n.v9)(m.do),d=o.searchQuery,u=o.searchParam,f=(0,a.useState)(!1),h=(0,c.Z)(f,2),v=h[0],x=h[1],k=(0,a.useState)([]),T=(0,c.Z)(k,2),j=T[0],y=T[1],w=(0,a.useState)([]),C=(0,c.Z)(w,2),g=C[0],N=C[1];return(0,a.useEffect)((function(){0===i.length||y(_()(i))}),[i]),(0,a.useEffect)((function(){N(s({searchParam:u,searchQuery:d,data:j}))}),[u,d,j]),(0,r.jsxs)("table",{className:[B.table,B.orders],children:[(0,r.jsx)(b,{titles:l,setSelectedAll:x,selectedAll:v}),(0,r.jsx)(p,{titles:l,tableData:g,selectedAll:v})]})},w="BlockWithList_block__QQjTo",C="BlockWithList_overflow__E1WJF",g="BlockWithList_header__BnAlB",N="BlockWithList_content__sYw2H",F="BlockWithList_footer__aozMs",L=function(e){var t=e.settings,l=t.blockParams,a=l.blockFilter,i=void 0!==a&&a,c=l.blockTable,n=void 0!==c&&c,s=t.blockTableParams,o=t.blockTableParams.tableTitles,u=void 0===o?[]:o,_=t.blockFilterParams;return(0,r.jsxs)("div",{className:w,children:[(0,r.jsx)("div",{className:g,children:i&&(0,r.jsx)(d,{blockFilterParams:_})}),(0,r.jsx)("div",{className:N,children:(0,r.jsx)("form",{className:C,children:n&&(0,r.jsx)(y,{titlesArr:u,tableParams:s})})}),(0,r.jsx)("div",{className:F})]})}},957:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=l(791),i=l(837),c=l(650),n=l(401),s=l(434),o=l(852),r=l(351),d=l(265),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},_=[{id:u(3),name:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b (SKU)",dataTitle:"sku",filter:!0,visible:!0},{id:u(3),name:"\u041d\u0430\u0437\u0432\u0430",dataTitle:"name",filter:!0,visible:!0},{id:u(3),name:"\u0410\u0432\u0442\u043e\u0440",dataTitle:"authorName",filter:!0,visible:!0},{id:u(3),name:"ID \u0430\u0432\u0442\u043e\u0440\u0430",dataTitle:"authorId",filter:!0,visible:!0},{id:u(3),name:"\u0426\u0456\u043d\u0430",dataTitle:"price",filter:!0,visible:!0},{id:u(3),name:"\u0412\u0430\u043b\u044e\u0442\u0430",dataTitle:"currency",filter:!0,visible:!0},{id:u(3),name:"\u041a\u043e\u043c\u0456\u0441\u0456\u044f, %",dataTitle:"commision",filter:!0,visible:!0},{id:u(3),name:"\u0421\u0435\u043a\u0446\u0456\u044f",dataTitle:"section",filter:!0,visible:!0},{id:u(3),name:"\u0411\u0430\u0442\u044c\u043a\u0456\u0432\u0441\u044c\u043a\u0430 \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",dataTitle:"parentCategory",filter:!0,visible:!0},{id:u(3),name:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f",dataTitle:"category",filter:!0,visible:!0},{id:u(3),name:"\u041d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c",dataTitle:"stock",filter:!0,visible:!0},{id:u(3),name:"\u0422\u0435\u0440\u043c\u0456\u043d \u0432\u0438\u0433-\u043d\u044f, \u0434\u043d\u0456",dataTitle:"manufacturingTime",filter:!0,visible:!1},{id:u(3),name:"\u041f\u0443\u0441\u0442\u043e",dataTitle:"empty",filter:!1,visible:!1},{id:u(3),name:"\u041f\u0443\u0441\u0442\u043e",dataTitle:"empty",filter:!1,visible:!1},{id:u(3),name:"\u041f\u0443\u0441\u0442\u043e",dataTitle:"empty",filter:!1,visible:!1}],m="ProductsPage_pageFlex__gJKjc",f="ProductsPage_sectionTopFlex__pwR9G",b="ProductsPage_sectionBottomFlex__Y+yrp",h=l(184),v=function(e){var t=(0,s.v9)(r.do).posts,l=(0,s.I0)(),u={blockFilter:!0,blockTable:!0,pageSelector:r.do},v={tableTitles:_,searchQueryAction:d.yW,searchParamAction:d.ve},x={tableTitles:_,tableData:t};return(0,a.useEffect)((function(){l((0,o._i)())}),[l]),(0,h.jsx)(n.T,{children:(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("section",{className:f,children:(0,h.jsx)(i.Z,{settings:{blockParams:u,blockTableParams:x,blockFilterParams:v}})}),(0,h.jsxs)("section",{className:b,children:[(0,h.jsx)(c.Z,{}),(0,h.jsx)(c.Z,{})]})]})})}},401:function(e,t,l){l.d(t,{T:function(){return o},q:function(){return s}});var a=l(885),i=l(791),c=l(184),n=(0,i.createContext)(),s=function(){return(0,i.useContext)(n)},o=function(e){var t=e.children,l=(0,i.useState)(null),s=(0,a.Z)(l,2),o=s[0],r=s[1];return(0,c.jsx)(n.Provider,{value:{selectItemByClick:function(e){r(e),console.log("addet item by id (".concat(e,") to context"))},deleteItemByClick:function(e){r(null),console.log(" deleted ".concat(e))},selectedItemId:o},children:t})}},351:function(e,t,l){l.d(t,{do:function(){return a}});var a=function(e){return e.posts}}}]);
//# sourceMappingURL=957.9322d142.chunk.js.map